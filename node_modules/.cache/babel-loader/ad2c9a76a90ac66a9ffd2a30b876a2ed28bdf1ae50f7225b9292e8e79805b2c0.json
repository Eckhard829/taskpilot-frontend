{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER-PC\\\\Desktop\\\\TaskPilot\\\\frontend\\\\src\\\\pages\\\\WorkerDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// WorkerDashboard.js - Updated with authentication debugging\nimport React, { useState, useEffect } from 'react';\nimport TodoList from '../components/TodoList';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\n// Temporary debug component - remove after fixing auth issues\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthDebug = () => {\n  _s();\n  const [debugInfo, setDebugInfo] = useState(null);\n  const [testResults, setTestResults] = useState({});\n  const testAuthentication = async () => {\n    const token = localStorage.getItem('token');\n    console.log('Token from localStorage:', token);\n    setTestResults(prev => ({\n      ...prev,\n      tokenExists: !!token,\n      apiUrl: process.env.REACT_APP_API_URL\n    }));\n    if (!token) {\n      setDebugInfo('No token found in localStorage');\n      return;\n    }\n\n    // Test token format\n    const tokenParts = token.split('.');\n    setTestResults(prev => ({\n      ...prev,\n      tokenFormat: tokenParts.length === 3 ? 'Valid JWT format' : 'Invalid JWT format'\n    }));\n\n    // Test API call with token\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/verify`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('Response status:', response.status);\n      const data = await response.json();\n      console.log('Response data:', data);\n      setTestResults(prev => ({\n        ...prev,\n        apiTest: {\n          status: response.status,\n          success: response.ok,\n          data: data\n        }\n      }));\n    } catch (error) {\n      console.error('API test error:', error);\n      setTestResults(prev => ({\n        ...prev,\n        apiTest: {\n          error: error.message\n        }\n      }));\n    }\n  };\n  const clearStorage = () => {\n    localStorage.removeItem('token');\n    setTestResults({});\n    setDebugInfo('Token cleared from localStorage');\n  };\n  useEffect(() => {\n    testAuthentication();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: '10px',\n      right: '10px',\n      background: 'white',\n      border: '2px solid red',\n      padding: '15px',\n      maxWidth: '350px',\n      maxHeight: '400px',\n      overflow: 'auto',\n      zIndex: 9999,\n      fontSize: '11px',\n      color: 'black'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: 'red',\n        margin: '0 0 10px 0'\n      },\n      children: \"AUTH DEBUG\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testAuthentication,\n        style: {\n          marginRight: '5px',\n          fontSize: '10px'\n        },\n        children: \"Test Auth\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearStorage,\n        style: {\n          fontSize: '10px'\n        },\n        children: \"Clear Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          fontSize: '9px',\n          whiteSpace: 'pre-wrap'\n        },\n        children: JSON.stringify(testResults, null, 1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginTop: '10px',\n        fontSize: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Info:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), \" \", debugInfo]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthDebug, \"Iq3tu4ql9Qtqs170qb4zFWkH1Cw=\");\n_c = AuthDebug;\nconst WorkerDashboard = () => {\n  _s2();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [user, setUser] = useState(null);\n  const [googleCalendarStatus, setGoogleCalendarStatus] = useState(null);\n  const [showGooglePrompt, setShowGooglePrompt] = useState(false);\n  const [authError, setAuthError] = useState(null);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.log('No token found, redirecting to login');\n          navigate('/');\n          return;\n        }\n        console.log('Attempting to verify user with token:', token ? 'Present' : 'Missing');\n        console.log('API URL:', process.env.REACT_APP_API_URL);\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/verify`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        console.log('Verify response status:', response.status);\n        if (response.ok) {\n          const data = await response.json();\n          console.log('User verified successfully:', data.user);\n          setUser(data.user);\n          setAuthError(null);\n\n          // Check Google Calendar status\n          await checkGoogleCalendarStatus();\n        } else {\n          const errorData = await response.json();\n          console.error('User verification failed:', errorData);\n          setAuthError(`Auth failed: ${response.status} - ${errorData.message}`);\n          localStorage.removeItem('token');\n          navigate('/');\n        }\n      } catch (error) {\n        console.error('Error fetching user:', error);\n        setAuthError(`Network error: ${error.message}`);\n        localStorage.removeItem('token');\n        navigate('/');\n      }\n    };\n    fetchUser();\n  }, [navigate]);\n  useEffect(() => {\n    // Handle OAuth callback parameters\n    const urlParams = new URLSearchParams(location.search);\n    const googleAuth = urlParams.get('googleAuth');\n    if (googleAuth === 'success') {\n      alert('Google Calendar connected successfully!');\n      setShowGooglePrompt(false);\n      window.history.replaceState({}, document.title, location.pathname);\n      checkGoogleCalendarStatus();\n    } else if (googleAuth === 'error') {\n      alert('Failed to connect Google Calendar. Please try again.');\n      window.history.replaceState({}, document.title, location.pathname);\n    }\n  }, [location]);\n  const checkGoogleCalendarStatus = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/google/status`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setGoogleCalendarStatus(data.connected);\n        if (!data.connected && localStorage.getItem('googleCalendarPromptDismissed') !== 'true') {\n          setShowGooglePrompt(true);\n        }\n      } else {\n        console.log('Could not check Google Calendar status');\n      }\n    } catch (error) {\n      console.error('Error checking Google Calendar status:', error);\n    }\n  };\n  const handleConnectGoogleCalendar = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      alert('Please log in again to connect Google Calendar');\n      navigate('/');\n      return;\n    }\n    window.location.href = `${process.env.REACT_APP_API_URL}/auth/google`;\n  };\n  const handleDismissGooglePrompt = () => {\n    setShowGooglePrompt(false);\n    localStorage.setItem('googleCalendarPromptDismissed', 'true');\n  };\n  const handleDisconnectGoogleCalendar = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/google/disconnect`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        setGoogleCalendarStatus(false);\n        alert('Google Calendar disconnected successfully');\n      } else {\n        alert('Failed to disconnect Google Calendar');\n      }\n    } catch (error) {\n      console.error('Error disconnecting Google Calendar:', error);\n      alert('Failed to disconnect Google Calendar');\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('googleCalendarPromptDismissed');\n    navigate('/');\n  };\n  if (!user && !authError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#ffffff',\n        textAlign: 'center',\n        backgroundColor: '#333333'\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 12\n    }, this);\n  }\n  if (authError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#ffffff',\n        textAlign: 'center',\n        backgroundColor: '#333333',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Authentication Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"btn btn-primary\",\n        children: \"Back to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthDebug, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      backgroundColor: '#333333'\n    },\n    children: [/*#__PURE__*/_jsxDEV(AuthDebug, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-light bg-light border-bottom mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-brand mb-0 h1\",\n            children: \"Worker Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted d-block\",\n            children: [\"Welcome, \", user.name, \" (\", user.email, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), googleCalendarStatus !== null && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: `d-block ${googleCalendarStatus ? 'text-success' : 'text-warning'}`,\n            children: [\"Google Calendar: \", googleCalendarStatus ? 'Connected' : 'Not Connected', googleCalendarStatus && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-link btn-sm text-danger p-0 ms-2\",\n              onClick: handleDisconnectGoogleCalendar,\n              style: {\n                textDecoration: 'none',\n                fontSize: '0.75rem'\n              },\n              children: \"Disconnect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2\",\n          children: [googleCalendarStatus === false && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-success btn-sm\",\n            onClick: handleConnectGoogleCalendar,\n            children: \"Connect Google Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-danger\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), showGooglePrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info alert-dismissible mx-3 mb-3\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"alert-heading\",\n        children: \"Connect Google Calendar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-2\",\n        children: \"Connect your Google Calendar to automatically sync your TaskPilot deadlines. This will help you stay organized and never miss a deadline!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-sm\",\n          onClick: handleConnectGoogleCalendar,\n          children: \"Connect Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-secondary btn-sm\",\n          onClick: handleDismissGooglePrompt,\n          children: \"Maybe Later\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s2(WorkerDashboard, \"HZ2SjTeKJcI0QFGQapPMIKPLXdE=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c2 = WorkerDashboard;\nexport default WorkerDashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthDebug\");\n$RefreshReg$(_c2, \"WorkerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","TodoList","useNavigate","useLocation","jsxDEV","_jsxDEV","AuthDebug","_s","debugInfo","setDebugInfo","testResults","setTestResults","testAuthentication","token","localStorage","getItem","console","log","prev","tokenExists","apiUrl","process","env","REACT_APP_API_URL","tokenParts","split","tokenFormat","length","response","fetch","method","headers","status","data","json","apiTest","success","ok","error","message","clearStorage","removeItem","style","position","top","right","background","border","padding","maxWidth","maxHeight","overflow","zIndex","fontSize","color","children","margin","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onClick","marginRight","whiteSpace","JSON","stringify","marginTop","_c","WorkerDashboard","_s2","navigate","location","user","setUser","googleCalendarStatus","setGoogleCalendarStatus","showGooglePrompt","setShowGooglePrompt","authError","setAuthError","fetchUser","checkGoogleCalendarStatus","errorData","urlParams","URLSearchParams","search","googleAuth","get","alert","window","history","replaceState","document","title","pathname","connected","handleConnectGoogleCalendar","href","handleDismissGooglePrompt","setItem","handleDisconnectGoogleCalendar","handleLogout","textAlign","backgroundColor","className","name","email","textDecoration","role","_c2","$RefreshReg$"],"sources":["C:/Users/USER-PC/Desktop/TaskPilot/frontend/src/pages/WorkerDashboard.js"],"sourcesContent":["// WorkerDashboard.js - Updated with authentication debugging\r\nimport React, { useState, useEffect } from 'react';\r\nimport TodoList from '../components/TodoList';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\n// Temporary debug component - remove after fixing auth issues\r\nconst AuthDebug = () => {\r\n  const [debugInfo, setDebugInfo] = useState(null);\r\n  const [testResults, setTestResults] = useState({});\r\n\r\n  const testAuthentication = async () => {\r\n    const token = localStorage.getItem('token');\r\n    console.log('Token from localStorage:', token);\r\n    \r\n    setTestResults(prev => ({\r\n      ...prev,\r\n      tokenExists: !!token,\r\n      apiUrl: process.env.REACT_APP_API_URL\r\n    }));\r\n\r\n    if (!token) {\r\n      setDebugInfo('No token found in localStorage');\r\n      return;\r\n    }\r\n\r\n    // Test token format\r\n    const tokenParts = token.split('.');\r\n    setTestResults(prev => ({\r\n      ...prev,\r\n      tokenFormat: tokenParts.length === 3 ? 'Valid JWT format' : 'Invalid JWT format'\r\n    }));\r\n\r\n    // Test API call with token\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/verify`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n      });\r\n\r\n      console.log('Response status:', response.status);\r\n      const data = await response.json();\r\n      console.log('Response data:', data);\r\n\r\n      setTestResults(prev => ({\r\n        ...prev,\r\n        apiTest: {\r\n          status: response.status,\r\n          success: response.ok,\r\n          data: data\r\n        }\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error('API test error:', error);\r\n      setTestResults(prev => ({\r\n        ...prev,\r\n        apiTest: {\r\n          error: error.message\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  const clearStorage = () => {\r\n    localStorage.removeItem('token');\r\n    setTestResults({});\r\n    setDebugInfo('Token cleared from localStorage');\r\n  };\r\n\r\n  useEffect(() => {\r\n    testAuthentication();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ \r\n      position: 'fixed', \r\n      top: '10px', \r\n      right: '10px', \r\n      background: 'white', \r\n      border: '2px solid red', \r\n      padding: '15px',\r\n      maxWidth: '350px',\r\n      maxHeight: '400px',\r\n      overflow: 'auto',\r\n      zIndex: 9999,\r\n      fontSize: '11px',\r\n      color: 'black'\r\n    }}>\r\n      <h3 style={{ color: 'red', margin: '0 0 10px 0' }}>AUTH DEBUG</h3>\r\n      \r\n      <div style={{ marginBottom: '10px' }}>\r\n        <button onClick={testAuthentication} style={{ marginRight: '5px', fontSize: '10px' }}>\r\n          Test Auth\r\n        </button>\r\n        <button onClick={clearStorage} style={{ fontSize: '10px' }}>\r\n          Clear Token\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        <strong>Results:</strong>\r\n        <pre style={{ fontSize: '9px', whiteSpace: 'pre-wrap' }}>\r\n          {JSON.stringify(testResults, null, 1)}\r\n        </pre>\r\n      </div>\r\n\r\n      {debugInfo && (\r\n        <div style={{ color: 'red', marginTop: '10px', fontSize: '10px' }}>\r\n          <strong>Info:</strong> {debugInfo}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst WorkerDashboard = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [user, setUser] = useState(null);\r\n  const [googleCalendarStatus, setGoogleCalendarStatus] = useState(null);\r\n  const [showGooglePrompt, setShowGooglePrompt] = useState(false);\r\n  const [authError, setAuthError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          console.log('No token found, redirecting to login');\r\n          navigate('/');\r\n          return;\r\n        }\r\n\r\n        console.log('Attempting to verify user with token:', token ? 'Present' : 'Missing');\r\n        console.log('API URL:', process.env.REACT_APP_API_URL);\r\n\r\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/verify`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n        });\r\n\r\n        console.log('Verify response status:', response.status);\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          console.log('User verified successfully:', data.user);\r\n          setUser(data.user);\r\n          setAuthError(null);\r\n          \r\n          // Check Google Calendar status\r\n          await checkGoogleCalendarStatus();\r\n        } else {\r\n          const errorData = await response.json();\r\n          console.error('User verification failed:', errorData);\r\n          setAuthError(`Auth failed: ${response.status} - ${errorData.message}`);\r\n          localStorage.removeItem('token');\r\n          navigate('/');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user:', error);\r\n        setAuthError(`Network error: ${error.message}`);\r\n        localStorage.removeItem('token');\r\n        navigate('/');\r\n      }\r\n    };\r\n    fetchUser();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    // Handle OAuth callback parameters\r\n    const urlParams = new URLSearchParams(location.search);\r\n    const googleAuth = urlParams.get('googleAuth');\r\n    \r\n    if (googleAuth === 'success') {\r\n      alert('Google Calendar connected successfully!');\r\n      setShowGooglePrompt(false);\r\n      window.history.replaceState({}, document.title, location.pathname);\r\n      checkGoogleCalendarStatus();\r\n    } else if (googleAuth === 'error') {\r\n      alert('Failed to connect Google Calendar. Please try again.');\r\n      window.history.replaceState({}, document.title, location.pathname);\r\n    }\r\n  }, [location]);\r\n\r\n  const checkGoogleCalendarStatus = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/google/status`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setGoogleCalendarStatus(data.connected);\r\n        \r\n        if (!data.connected && localStorage.getItem('googleCalendarPromptDismissed') !== 'true') {\r\n          setShowGooglePrompt(true);\r\n        }\r\n      } else {\r\n        console.log('Could not check Google Calendar status');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking Google Calendar status:', error);\r\n    }\r\n  };\r\n\r\n  const handleConnectGoogleCalendar = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Please log in again to connect Google Calendar');\r\n      navigate('/');\r\n      return;\r\n    }\r\n    \r\n    window.location.href = `${process.env.REACT_APP_API_URL}/auth/google`;\r\n  };\r\n\r\n  const handleDismissGooglePrompt = () => {\r\n    setShowGooglePrompt(false);\r\n    localStorage.setItem('googleCalendarPromptDismissed', 'true');\r\n  };\r\n\r\n  const handleDisconnectGoogleCalendar = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/auth/google/disconnect`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setGoogleCalendarStatus(false);\r\n        alert('Google Calendar disconnected successfully');\r\n      } else {\r\n        alert('Failed to disconnect Google Calendar');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error disconnecting Google Calendar:', error);\r\n      alert('Failed to disconnect Google Calendar');\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('googleCalendarPromptDismissed');\r\n    navigate('/');\r\n  };\r\n\r\n  if (!user && !authError) {\r\n    return <div style={{ color: '#ffffff', textAlign: 'center', backgroundColor: '#333333' }}>Loading...</div>;\r\n  }\r\n\r\n  if (authError) {\r\n    return (\r\n      <div style={{ color: '#ffffff', textAlign: 'center', backgroundColor: '#333333', padding: '20px' }}>\r\n        <h3>Authentication Error</h3>\r\n        <p>{authError}</p>\r\n        <button onClick={() => navigate('/')} className=\"btn btn-primary\">\r\n          Back to Login\r\n        </button>\r\n        <AuthDebug />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{ backgroundColor: '#333333' }}>\r\n      {/* Add debug component temporarily - REMOVE AFTER FIXING */}\r\n      <AuthDebug />\r\n\r\n      <nav className=\"navbar navbar-light bg-light border-bottom mb-4\">\r\n        <div className=\"container-fluid\">\r\n          <div>\r\n            <span className=\"navbar-brand mb-0 h1\">Worker Dashboard</span>\r\n            <small className=\"text-muted d-block\">\r\n              Welcome, {user.name} ({user.email})\r\n            </small>\r\n            {googleCalendarStatus !== null && (\r\n              <small className={`d-block ${googleCalendarStatus ? 'text-success' : 'text-warning'}`}>\r\n                Google Calendar: {googleCalendarStatus ? 'Connected' : 'Not Connected'}\r\n                {googleCalendarStatus && (\r\n                  <button \r\n                    className=\"btn btn-link btn-sm text-danger p-0 ms-2\" \r\n                    onClick={handleDisconnectGoogleCalendar}\r\n                    style={{textDecoration: 'none', fontSize: '0.75rem'}}\r\n                  >\r\n                    Disconnect\r\n                  </button>\r\n                )}\r\n              </small>\r\n            )}\r\n          </div>\r\n          <div className=\"d-flex gap-2\">\r\n            {googleCalendarStatus === false && (\r\n              <button \r\n                className=\"btn btn-outline-success btn-sm\" \r\n                onClick={handleConnectGoogleCalendar}\r\n              >\r\n                Connect Google Calendar\r\n              </button>\r\n            )}\r\n            <button \r\n              className=\"btn btn-outline-danger\" \r\n              onClick={handleLogout}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Google Calendar Connection Prompt */}\r\n      {showGooglePrompt && (\r\n        <div className=\"alert alert-info alert-dismissible mx-3 mb-3\" role=\"alert\">\r\n          <h6 className=\"alert-heading\">Connect Google Calendar</h6>\r\n          <p className=\"mb-2\">\r\n            Connect your Google Calendar to automatically sync your TaskPilot deadlines. \r\n            This will help you stay organized and never miss a deadline!\r\n          </p>\r\n          <div className=\"d-flex gap-2\">\r\n            <button \r\n              className=\"btn btn-primary btn-sm\" \r\n              onClick={handleConnectGoogleCalendar}\r\n            >\r\n              Connect Now\r\n            </button>\r\n            <button \r\n              className=\"btn btn-outline-secondary btn-sm\" \r\n              onClick={handleDismissGooglePrompt}\r\n            >\r\n              Maybe Later\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <TodoList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkerDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}