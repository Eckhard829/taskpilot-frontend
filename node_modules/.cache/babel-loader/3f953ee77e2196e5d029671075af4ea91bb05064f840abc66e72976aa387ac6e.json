{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER-PC\\\\Desktop\\\\TaskPilot\\\\task-pilot\\\\src\\\\components\\\\TodoList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { db, auth, query, collection, getDocs, where } from '../services/firebase';\nimport CompletionModal from './CompletionModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [selectedTask, setSelectedTask] = useState(null);\n  useEffect(() => {\n    const fetchTasks = async () => {\n      const user = auth.currentUser;\n      if (user) {\n        const q = query(collection(db, 'tasks'), where('assignedTo', '==', user.uid), where('status', '==', 'pending'));\n        const querySnapshot = await getDocs(q);\n        setTasks(querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })));\n      }\n    };\n    fetchTasks();\n  }, []);\n  const handleClick = task => {\n    setSelectedTask(task);\n  };\n  const handleCloseModal = () => {\n    setSelectedTask(null);\n  };\n  const refreshTasks = () => {\n    // Refetch tasks after update\n    const fetchTasks = async () => {\n      const user = auth.currentUser;\n      const q = query(collection(db, 'tasks'), where('assignedTo', '==', user.uid), where('status', '==', 'pending'));\n      const querySnapshot = await getDocs(q);\n      setTasks(querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n    };\n    fetchTasks();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your To-Do List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-primary me-2\",\n          onClick: () => handleClick(task),\n          children: \"\\u2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), task.what, \" (Deadline: \", task.deadline, \")\"]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), selectedTask && /*#__PURE__*/_jsxDEV(CompletionModal, {\n      task: selectedTask,\n      onClose: handleCloseModal,\n      onUpdate: refreshTasks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoList, \"Cvg8ZAXndLj8UIebRFAblQ+N89M=\");\n_c = TodoList;\nexport default TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","db","auth","query","collection","getDocs","where","CompletionModal","jsxDEV","_jsxDEV","TodoList","_s","tasks","setTasks","selectedTask","setSelectedTask","fetchTasks","user","currentUser","q","uid","querySnapshot","docs","map","doc","id","data","handleClick","task","handleCloseModal","refreshTasks","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","what","deadline","onClose","onUpdate","_c","$RefreshReg$"],"sources":["C:/Users/USER-PC/Desktop/TaskPilot/task-pilot/src/components/TodoList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db, auth, query, collection, getDocs, where } from '../services/firebase';\r\nimport CompletionModal from './CompletionModal';\r\n\r\nconst TodoList = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTasks = async () => {\r\n      const user = auth.currentUser;\r\n      if (user) {\r\n        const q = query(collection(db, 'tasks'), where('assignedTo', '==', user.uid), where('status', '==', 'pending'));\r\n        const querySnapshot = await getDocs(q);\r\n        setTasks(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n      }\r\n    };\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const handleClick = (task) => {\r\n    setSelectedTask(task);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setSelectedTask(null);\r\n  };\r\n\r\n  const refreshTasks = () => {\r\n    // Refetch tasks after update\r\n    const fetchTasks = async () => {\r\n      const user = auth.currentUser;\r\n      const q = query(collection(db, 'tasks'), where('assignedTo', '==', user.uid), where('status', '==', 'pending'));\r\n      const querySnapshot = await getDocs(q);\r\n      setTasks(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n    };\r\n    fetchTasks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3\">\r\n      <h2>Your To-Do List</h2>\r\n      <ul className=\"list-group\">\r\n        {tasks.map(task => (\r\n          <li key={task.id} className=\"list-group-item d-flex align-items-center\">\r\n            <button className=\"btn btn-sm btn-outline-primary me-2\" onClick={() => handleClick(task)}>â€¢</button>\r\n            {task.what} (Deadline: {task.deadline})\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {selectedTask && <CompletionModal task={selectedTask} onClose={handleCloseModal} onUpdate={refreshTasks} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}